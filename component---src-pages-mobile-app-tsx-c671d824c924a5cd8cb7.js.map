{"version":3,"file":"component---src-pages-mobile-app-tsx-c671d824c924a5cd8cb7.js","mappings":"sOAUaA,EAAgB,WAC3B,IAAMC,GAAgBC,EAAAA,EAAAA,UACtB,GAA6BC,EAAAA,EAAAA,MAArBC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,UAEQC,GAA+BC,EAAAA,EAAAA,oBAA9CC,cAyBR,OAvBAC,EAAAA,EAAAA,YAAU,YACJC,EAAAA,EAAAA,QAIkB,QAFLC,EAAAA,MAAkBC,OAAOC,SAASC,QAEtCC,KACLT,IAA+BL,EAAce,UAC/Cf,EAAce,SAAU,GACxBC,EAAAA,EAAAA,UAASX,EAA2BY,WAAWC,MAExCf,GACTa,EAAAA,EAAAA,UAASX,EAA2Bc,IAAID,KAC/Bd,GACTY,EAAAA,EAAAA,UAASX,EAA2Be,kBAAkBF,MAEtDF,EAAAA,EAAAA,UAAS,+BAIb,OAAO,WAAP,CAnBO,GAoBN,CAACX,EAA4BD,EAAWD,KAGpCkB,EAAAA,EAAAA,IAACC,EAAAA,EAAD,KA7BF,C","sources":["webpack://portal/./src/components/pages/MobileApp/MobileApp.tsx"],"sourcesContent":["import { FC, useEffect, useRef } from 'react';\n\nimport { navigate } from 'gatsby';\nimport queryString from 'query-string';\n\nimport { useOneKeyVersion } from '../../../data';\nimport { useRuntimeDetect } from '../../../hooks';\nimport { isBrowser } from '../../../utils';\nimport AppPage from '../Download';\n\nexport const MobileApp: FC = () => {\n  const isDownloading = useRef<boolean>();\n  const { isIOS, isAndroid } = useRuntimeDetect();\n\n  const { formattedData: formattedOneKeyVersionData } = useOneKeyVersion();\n\n  useEffect(() => {\n    if (isBrowser()) {\n      // onekey.so/mobile-app?type=apk\n      const parsed = queryString.parse(window.location.search);\n\n      if (parsed.type === 'apk') {\n        if (formattedOneKeyVersionData && !isDownloading.current) {\n          isDownloading.current = true;\n          navigate(formattedOneKeyVersionData.androidAPK.url);\n        }\n      } else if (isIOS) {\n        navigate(formattedOneKeyVersionData.ios.url);\n      } else if (isAndroid) {\n        navigate(formattedOneKeyVersionData.androidGooglePlay.url);\n      } else {\n        navigate('https://onekey.so/download');\n      }\n    }\n\n    return () => {};\n  }, [formattedOneKeyVersionData, isAndroid, isIOS]);\n\n  // todo: import download content\n  return <AppPage />;\n};\n"],"names":["MobileApp","isDownloading","useRef","useRuntimeDetect","isIOS","isAndroid","formattedOneKeyVersionData","useOneKeyVersion","formattedData","useEffect","isBrowser","queryString","window","location","search","type","current","navigate","androidAPK","url","ios","androidGooglePlay","___EmotionJSX","AppPage"],"sourceRoot":""}